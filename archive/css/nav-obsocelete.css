/***********************************************************************
*  Nav Bar main
**********************************************************************/

/*Drop down over 666px*/

.main-nav {
	display: flex;
	justify-content: center;
	height: 80px;
	padding: 0px;
	margin: 0px;
	/*overflow: hidden;*/
	font-family: "Nanum Gothic", sans-serif;
	perspective: 200px;
	transform-style: preserve-3d;
}

.sub-menu {
	transform-style: preserve-3d;
}

/***********************************************************************
*  Nav Bar over 666px page width
**********************************************************************/

@media (min-width: 880px) {
	.main-nav {
		width: 100%;
		position: absolute;
		background: #1e1f24;
		margin: 0px;
		max-width: 100%;
		z-index: 2;
	}

	.main-nav ol {
		width: 100%;
		display: flex;
		justify-content: space-around;
		padding: 0px;
		margin: 0px;
		transition: all 300ms cubic-bezier(0.175, 0.885, 0.32, 1.275);
	}

	.main-nav ol li {
		display: inline-block;
		padding: 30px;
		flex-grow: 1;
		text-align: center;
		position: relative;
		transition: all 300ms cubic-bezier(0.175, 0.885, 0.32, 1.275);
	}

	/* Make the clickable/hover area match the full slot (safe) */
	.main-nav > ol > li > a {
		display: block;
		width: 100%;
		height: 100%;
	}

	/* ---------- Common :before setup ---------- */
	.main-nav ol li:before {
		content: "";
		position: absolute;
		width: 100%;
		height: 100%;
		top: 0;
		left: 0;
		z-index: -1;
		transition: all 300ms cubic-bezier(0.175, 0.885, 0.32, 1.275);
		transform: translateY(-125%) rotate(-5deg);
	}

	.main-nav ol li:hover:before {
		transform: translateY(0) rotate(0deg);
	}

	/* Keep submenu link text white */
	.main-nav ol li:hover ol li a {
		color: #fff;
	}

	.main-nav ol li:hover ol:before {
		content: "";
		position: absolute;
		width: 20px;
		height: 20px;
		display: block;
		bottom: -30px;
		left: -15px;
		transform: rotate(45deg) scale(0.5);
		border: 3px solid orange;
		border-color: orange transparent transparent orange;
		background: linear-gradient(
			45deg,
			transparent -50%,
			transparent 45%,
			orange 45%,
			orange 55%,
			transparent 55%,
			transparent 125%
		);
		background-repeat: no-repeat;
		animation: clipin 0.4s ease-in 1 forwards;
		animation-delay: 0.2s;
		-webkit-clip-path: polygon(35% 35%, 35% 0, 35% 0, 35% 35%, 0 35%, 0 35%);
		clip-path: polygon(35% 35%, 35% 0, 35% 0, 35% 35%, 0 35%, 0 35%);
	}

	.main-nav ol li:hover li {
		position: relative;
	}

	.main-nav ol li:hover li:first-of-type:before {
		display: none;
	}

	.main-nav ol li:hover li:before {
		content: "";
		position: absolute;
		width: 20px;
		height: 20px;
		display: block;
		right: -30px;
		top: -15px;
		left: auto;
		transform: rotate(-45deg) scale(0.5);
		border: 3px solid red;
		border-color: red transparent transparent red;
		background: linear-gradient(
			45deg,
			transparent -50%,
			transparent 45%,
			red 45%,
			red 55%,
			transparent 55%,
			transparent 125%
		);
		background-repeat: no-repeat;
		animation: clipin 0.4s ease-in 1 forwards;
		-webkit-clip-path: polygon(35% 35%, 35% 0, 35% 0, 35% 35%, 0 35%, 0 35%);
		clip-path: polygon(35% 35%, 35% 0, 35% 0, 35% 35%, 0 35%, 0 35%);
	}

	/*this is the little burst animation*/
	@keyframes clipin {
		0% {
			-webkit-clip-path: polygon(35% 35%, 35% 0, 35% 0, 35% 35%, 0 35%, 0 35%);
			clip-path: polygon(35% 35%, 35% 0, 35% 0, 35% 35%, 0 35%, 0 35%);
		}
		50% {
			-webkit-clip-path: polygon(35% 35%, 35% 0, 35% 0, 35% 35%, 0 35%, 0 35%);
			clip-path: polygon(35% 35%, 35% 0, 35% 0, 35% 35%, 0 35%, 0 35%);
		}
		75% {
			-webkit-clip-path: polygon(
				35% 35%,
				35% 0,
				100% 0,
				100% 100%,
				0 100%,
				0 35%
			);
			clip-path: polygon(35% 35%, 35% 0, 100% 0, 100% 100%, 0 100%, 0 35%);
		}
		100% {
			-webkit-clip-path: polygon(
				100% 100%,
				100% 0,
				100% 0,
				100% 100%,
				0 100%,
				0 100%
			);
			clip-path: polygon(100% 100%, 100% 0, 100% 0, 100% 100%, 0 100%, 0 100%);
		}
	}

	/* --- Top-level colour blocks via one variable --- */
	.main-nav ol li:before {
		background: var(--c);
	}

	.main-nav ol li:nth-of-type(1) {
		--c: #ff2b00;
	}
	.main-nav ol li:nth-of-type(2) {
		--c: #ff5500;
	}
	.main-nav ol li:nth-of-type(3) {
		--c: #ff8000;
	}
	.main-nav ol li:nth-of-type(4) {
		--c: #ffaa00;
	}
	.main-nav ol li:nth-of-type(5) {
		--c: #ffd500;
	}
	.main-nav ol li:nth-of-type(6) {
		--c: yellow;
	}
	.main-nav ol li:nth-of-type(7) {
		--c: #d5ff00;
	}
	.main-nav ol li:nth-of-type(8) {
		--c: #aaff00;
	}
	.main-nav ol li:nth-of-type(9) {
		--c: #80ff00;
	}
	.main-nav ol li:nth-of-type(10) {
		--c: #55ff00;
	}

	/* ✅ FIX: keep translateX(-50%) when opening the submenu */
	.main-nav ol li:hover ol {
		transform: translateX(-50%) translateY(0) translateZ(-1px);
	}

	.main-nav ol li:hover ol:after {
		transform: rotate(0deg);
	}

	.main-nav ol li:hover ol li:nth-of-type(1n) {
		transform: none;
		margin: 0px;
	}

	/* Submenu hover overlay (restores “hovered item highlight”) */
	.main-nav ol li ol li {
		position: relative;
	}
	.main-nav ol li ol li:after {
		content: "";
		position: absolute;
		left: 0;
		right: 0;
		top: 1vh;
		bottom: 0;
		opacity: 0;
		background: rgba(255, 255, 255, 0.14);
		transition: opacity 180ms ease, top 180ms ease;
		pointer-events: none;
	}
	.main-nav ol li:hover ol li:nth-of-type(1n):hover:after {
		opacity: 1;
		top: 0vh;
	}

	.main-nav ol li a {
		color: #fff;
		text-decoration: none;
		text-transform: uppercase;
		letter-spacing: 2px;
		font-weight: 900;
		white-space: nowrap;
	}

	/* Dropdown base (centred under parent) */
	.main-nav ol li ol {
		display: block;
		position: absolute;
		top: 100%;
		left: 50%;
		transform: translateX(-50%) translateY(-125%) translateZ(-5px);
		transform-origin: top center;
		z-index: -1;
		min-width: 100%;
		width: max-content;
		max-width: 320px;
	}

	/* keep dropdown above content when open */
	.main-nav ol li:hover > ol {
		z-index: 3;
	}

	.main-nav ol li ol:hover li:nth-of-type(1n):hover {
		padding: 40px 30px;
	}

	.main-nav ol li ol li {
		display: block;
		margin: 20px 0;
	}

	/* Submenu: drive colour + spark gradient from one variable */
	.main-nav ol li ol li {
		background: var(--c);
	}

	.main-nav ol li ol li:before {
		background: linear-gradient(
			45deg,
			transparent -50%,
			transparent 45%,
			var(--c) 45%,
			var(--c) 55%,
			transparent 55%,
			transparent 125%
		);
		background-repeat: no-repeat;
		border-color: var(--c) transparent transparent var(--c);
	}

	.main-nav ol li ol li a {
		font-size: 14px;
		white-space: normal;
	}

	.main-nav ol li ol li:before {
		display: block;
	}

	/* Keep YOUR animation-delay timing (unchanged) */
	.main-nav ol li ol li:nth-of-type(1):before {
		animation-delay: 0.05s;
	}
	.main-nav ol li ol li:nth-of-type(2):before {
		animation-delay: 0.1s;
	}
	.main-nav ol li ol li:nth-of-type(3):before {
		animation-delay: 0.15s;
	}
	.main-nav ol li ol li:nth-of-type(4):before {
		animation-delay: 0.2s;
	}
	.main-nav ol li ol li:nth-of-type(5):before {
		animation-delay: 0.25s;
	}
	.main-nav ol li ol li:nth-of-type(6):before {
		animation-delay: 0.3s;
	}
	.main-nav ol li ol li:nth-of-type(7):before {
		animation-delay: 0.35s;
	}
	.main-nav ol li ol li:nth-of-type(8):before {
		animation-delay: 0.4s;
	}
	.main-nav ol li ol li:nth-of-type(9):before {
		animation-delay: 0.45s;
	}
	.main-nav ol li ol li:nth-of-type(10):before {
		animation-delay: 0.5s;
	}

	/* One line per item: sets colour + keeps your transition-delay */
	.main-nav ol li ol li:nth-of-type(1) {
		--c: #ff2b00;
		transition-delay: 0.1s;
	}
	.main-nav ol li ol li:nth-of-type(2) {
		--c: #ff5500;
		transition-delay: 0.2s;
	}
	.main-nav ol li ol li:nth-of-type(3) {
		--c: #ff8000;
		transition-delay: 0.3s;
	}
	.main-nav ol li ol li:nth-of-type(4) {
		--c: #ffaa00;
		transition-delay: 0.4s;
	}
	.main-nav ol li ol li:nth-of-type(5) {
		--c: #ffd500;
		transition-delay: 0.5s;
	}
	.main-nav ol li ol li:nth-of-type(6) {
		--c: yellow;
		transition-delay: 0.6s;
	}
	.main-nav ol li ol li:nth-of-type(7) {
		--c: #d5ff00;
		transition-delay: 0.7s;
	}
	.main-nav ol li ol li:nth-of-type(8) {
		--c: #aaff00;
		transition-delay: 0.8s;
	}
	.main-nav ol li ol li:nth-of-type(9) {
		--c: #80ff00;
		transition-delay: 0.9s;
	}
	.main-nav ol li ol li:nth-of-type(10) {
		--c: #55ff00;
		transition-delay: 1s;
	}

	.main-nav ol li ol li:first-of-type {
		margin-top: 0;
	}
	.main-nav ol li ol li:nth-of-type(even) {
		transform-origin: top left;
		transform: rotate(5deg);
	}
	.main-nav ol li ol li:nth-of-type(odd) {
		transform-origin: top right;
		transform: rotate(-5deg);
	}
}

/* Top-level hover text colour (replaces the 10-item selector list) */
.main-nav > ol > li:hover > a {
	color: #222;
}

/***********************************************************************
*  Nav Bar over 666px page width
**********************************************************************/
@media (max-width: 880px) {
	.main-nav {
		position: absolute;
		top: 0;
		height: 45px;
		left: 0;
		background: #1e1f24;
		width: 100%;
		z-index: 2;
	}

	.main-nav:hover ol li:nth-of-type(1n) {
		transform: rotate(0deg);
		margin: 0px;
		transition: all 300ms cubic-bezier(0.175, 0.885, 0.32, 1.275);
	}

	.main-nav:hover ol li:nth-of-type(1) {
		transition-delay: 0.0666666667s;
	}
	.main-nav:hover ol li:nth-of-type(1):hover a {
		color: #ff2b00;
	}

	.main-nav:hover ol li:nth-of-type(2) {
		transition-delay: 0.1333333333s;
	}
	.main-nav:hover ol li:nth-of-type(2):hover a {
		color: #ff5500;
	}

	.main-nav:hover ol li:nth-of-type(3) {
		transition-delay: 0.2s;
	}
	.main-nav:hover ol li:nth-of-type(3):hover a {
		color: #ff8000;
	}

	.main-nav:hover ol li:nth-of-type(4) {
		transition-delay: 0.2666666667s;
	}
	.main-nav:hover ol li:nth-of-type(4):hover a {
		color: #ffaa00;
	}

	.main-nav:hover ol li:nth-of-type(5) {
		transition-delay: 0.3333333333s;
	}
	.main-nav:hover ol li:nth-of-type(5):hover a {
		color: #ffd500;
	}

	.main-nav:hover ol li:nth-of-type(6) {
		transition-delay: 0.4s;
	}
	.main-nav:hover ol li:nth-of-type(6):hover a {
		color: yellow;
	}

	.main-nav:hover ol li:nth-of-type(7) {
		transition-delay: 0.4666666667s;
	}
	.main-nav:hover ol li:nth-of-type(7):hover a {
		color: #d5ff00;
	}

	.main-nav:hover ol li:nth-of-type(8) {
		transition-delay: 0.5333333333s;
	}
	.main-nav:hover ol li:nth-of-type(8):hover a {
		color: #aaff00;
	}

	.main-nav:hover ol li:nth-of-type(9) {
		transition-delay: 0.6s;
	}
	.main-nav:hover ol li:nth-of-type(9):hover a {
		color: #80ff00;
	}

	.main-nav:hover ol li:nth-of-type(10) {
		transition-delay: 0.6666666667s;
	}
	.main-nav:hover ol li:nth-of-type(10):hover a {
		color: #55ff00;
	}

	.main-nav:hover:before {
		transform: rotate(45deg);
		box-shadow: 0 0 0 0;
	}
	.main-nav:hover:after {
		transform: rotate(-45deg);
	}

	.main-nav:before,
	.main-nav:after {
		content: "";
		position: absolute;
		width: 30px;
		height: 3px;
		background: #fff;
		top: 10px;
		left: calc(50% - 15px);
		border-radius: 5px;
		box-shadow: 0 10px 0 0 #fff;
		transition: transform 300ms cubic-bezier(0.175, 0.885, 0.32, 1.275),
			box-shadow 100ms ease-in-out;
		transition-delay: 0.1s, 0s;
		transform-origin: 0% 50%;
	}

	.main-nav:after {
		box-shadow: none;
		top: 30px;
		transform-origin: 0% 50%;
	}

	.main-nav:hover ol {
		transform: translateY(0) translateZ(-1px);
	}
	.main-nav:hover ol ol {
		transform: none;
	}

	.main-nav ol {
		position: absolute;
		width: 100%;
		top: 0px;
		display: table;
		left: 0;
		margin: 0px;
		transform: translateY(calc(-125% - 45px)) translateZ(-1px);
		text-align: center;
		transition: all 300ms cubic-bezier(0.175, 0.885, 0.32, 1.275);
		background: #000;
		padding: 60px 0 20px;
		height: auto;
	}

	.main-nav ol li {
		position: relative;
		display: inline-block;
		width: 100%;
		clear: both;
		height: 50px;
		padding: 10px 0;
		margin: 10px 0;
		transition: all 300ms cubic-bezier(0.175, 0.885, 0.32, 1.275);
		background: #000;
	}

	.main-nav ol li:nth-of-type(even) {
		transform: rotate(-5deg);
	}
	.main-nav ol li:nth-of-type(odd) {
		transform: rotate(5deg);
	}

	.main-nav ol li:hover ol {
		height: auto;
		transition: opacity 0.2s ease-in-out;
		opacity: 1;
	}

	.main-nav ol li a {
		color: #fff;
		text-decoration: none;
		display: block; /* so underline spans the full tap area */
		width: 100%;
		height: 100%;
	}

	/* Mobile active/hover indicator */
	.main-nav ol li:hover > a,
	.main-nav ol li:focus-within > a {
		text-decoration: underline;
		text-underline-offset: 8px;
		text-decoration-thickness: 3px;
	}

	/* If your active class is on the <li> (it is), force underline on mobile */
	.main-nav ol li.active > a {
		text-decoration: underline;
		text-underline-offset: 8px;
		text-decoration-thickness: 4px;
	}

	.main-nav ol ol {
		position: relative;
		transform: none;
		background: transparent;
		display: inline-block;
		width: 100%;
		height: auto;
		top: auto;
		padding: 0;
		height: 0;
		overflow: hidden;
		opacity: 0;
		transition: opacity 0.2s ease-in-out;
	}

	.main-nav ol ol li {
		font-size: 12px;
		height: auto;
	}
	.main-nav ol ol li:first-of-type {
		padding-top: 20px;
	}
}

/***********************************************************************
*  Nav Bar final tid-bits
**********************************************************************/
.active {
	border-bottom: 5px solid white;
	color: white;
	padding-bottom: 1px;
}

.sticky {
	position: fixed;
	top: 0;
	width: 100%;
}

@media (min-width: 880px) {
	.main-nav ol li > .sub-menu li {
		display: none;
		margin: 0;
	}
	.main-nav ol li:hover > .sub-menu li {
		display: block;
		margin: 20px 0;
	}
}
